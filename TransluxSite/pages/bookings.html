<div ng-include="url.templateUrl" style="display:inline;"></div>
<br/>
<br/>
<br/>


<div>

<div style="">
  <center>
    <h1 style="color:black">Bookings</h1>
    <p style="width:80%; margin:auto;" ng-show="step == 1">
        Please select your departure location and click next.
    </p>
    <p style="width:80%; margin:auto;" ng-show="step == 2">
        Please select your destination location and click next.
    </p>
    <p style="width:80%; margin:auto;" ng-show="step == 3">
        Please select your prefered date from the ones highlighted in blue. Then select your prefered time that appears under the calendar.
    </p>
    <p style="width:80%; margin:auto;" ng-show="step == 4">
        Please varify your selections.
    </p>
  </center>
  <button class="w3-btn w3-red" style="float:right; margin-right:30px;" ng-click="nextStep()" ng-show="step != 4">Next Step <span class="glyphicon glyphicon-arrow-right"></span></button>
  <button class="w3-btn w3-red" style="margin-left:30px;" ng-click="prevStep()" ng-show="step != 1"><span class="glyphicon glyphicon-arrow-left"></span> Previous Step</button>
  <br />
  <br />
  <br />

  <div class="row" ng-show="step == 1">
    <div class="col-sm-1">
    </div>
    <div class="col-sm-2">
      <label>Select Departure Location</label>
    </div>
    <div class="col-sm-8">
      <oi-select style="text-align:left" oi-options="x.name for x in departurePoints" ng-model="departurePoint" placeholder="Click to select" ng-change="setDestinationPoints()">
      </oi-select>
    </div>
    <div class="col-sm-1">
    </div>
  </div>

  <div class="row" ng-show="step == 2">
    <div class="col-sm-1">
    </div>
    <div class="col-sm-2">
      <label>Select Destination Location</label>
    </div>
    <div class="col-sm-8">
      <oi-select style="text-align:left" oi-options="x.name for x in destinationPoints" ng-model="destinationPoint" placeholder="Click to select" ng-change="loadEvents()">
      </oi-select>
    </div>
    <div class="col-sm-1">
    </div>
  </div>
  <br />
  <br />
  <!--  -->
  <!--  -->
  <!--  -->
  <center>
  <div style="width:90%" ng-show="step == 3">
    <section class="container">
    <section>
      <div class="alert alert-success" ng-show="event">Booking selected:{{event.startTime|date:
          'MMM/dd,yyyy,HH:mm'}} - {{event.endTime|date:'MMM/dd,yyyy,HH:mm'}}, {{event.title}}
      </div>

      <div class="btn-toolbar">
          <div class="btn-group">
              <button type="button" class="btn btn-default" ng-class="{active:mode==='month'}"
                      ng-click="changeMode('month')">
                  Month
              </button>
              <button type="button" class="btn btn-default" ng-class="{active:mode==='week'}"
                      ng-click="changeMode('week')">
                  Week
              </button>
              <button type="button" class="btn btn-default" ng-class="{active:mode==='day'}"
                      ng-click="changeMode('day')">
                  Day
              </button>
          </div>
          <div class="btn-group">
              <button type="button" class="btn btn-default" ng-disabled="isToday()"
                      ng-click="today()">
                  Today
              </button>
          </div>
      </div>
      <div class="well well-sm">
          <calendar ng-model="currentDate" calendar-mode="mode" event-source="eventSource"
                    range-changed="reloadSource(startTime, endTime)"
                    event-selected="onEventSelected(event)"
                    time-selected="onTimeSelected(selectedTime, events)"></calendar>
      </div>
    </section>
    </section>
  </div>
  </center>
    <!--  -->
    <!--  -->
    <!--  -->

  <!-- <div class="row" ng-show="destinationPoint">
    <div class="col-sm-1">
    </div>
    <div class="col-sm-2">
      <label>Select Time From Available</label>
    </div>
    <div class="col-sm-8">
      <div ng-repeat="x in calendar" style="background:">

        <div ng-click="check(1, x.year.value, x.year.month)">
          {{x.year.value}}
        </div>
          <div ng-repeat="y in x.year.month">

            <div ng-show="y.checked">
              <div style="padding-left:20px" ng-click="check(2, y.name, y.day)">
                {{y.name}}
                {{y.value}}
              </div>

                <div ng-repeat="z in y.day">

                  <div ng-show="z.checked">
                    <div style="padding-left:40px"  ng-click="check(3, z.name + ' ' + z.value, z.time)">
                      {{z.name}}
                      {{z.value}}
                    </div>
                    <div ng-repeat="d in z.time">

                      <div ng-show="d.checked">
                        <div style="padding-left:60px"  ng-click="setTime(d.value)">
                          {{d.value}}
                        </div>
                      </div>

                    </div>

                  </div>

                </div>

            </div>

          </div>

      </div>
    </div>
    <div class="col-sm-1">
    </div>

  </div> -->


  <center>
    <div class="row" style="background-color:wheat; width:80%;" ng-show="step == 4">
      <div class="col-sm-1">
      </div>
      <!-- <div class="col-sm-2">
        <label>Your Selections Are</label>
      </div> -->
      <div class="col-sm-10">
        <center>
          <h3>Your Selections Are</h3>
          Departure: {{departurePoint.name}} <br />
          Destination: {{destinationPoint.name}} <br />
          Booking Details: {{event.startTime|date:
              'MMM/dd,yyyy,HH:mm'}}<br />
          <br /><button class="w3-btn w3-red">Make Booking</button>
          <br />
          <br />
        </center>
      </div>
      <div class="col-sm-1">
      </div>
    </div>
  </center>

  <br />
  <br />
</div>
